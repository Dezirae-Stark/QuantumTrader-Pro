# QuantumTrader Pro Bridge Server - Environment Configuration
# Copy this file to .env and configure for your environment

# ============================================
# Server Configuration
# ============================================

# Server port (default: 8080)
PORT=8080

# Node environment (development | production)
NODE_ENV=development

# ============================================
# Security Configuration
# ============================================

# JWT Secret Key - CHANGE THIS IN PRODUCTION!
# Generate a strong random string (min 32 characters)
# Example: openssl rand -base64 32
JWT_SECRET=CHANGE_THIS_TO_A_SECURE_RANDOM_STRING_IN_PRODUCTION

# JWT Token Expiration
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# ============================================
# CORS Configuration
# ============================================

# Allowed origins (comma-separated list)
# Add your production frontend URLs and mobile app schemes
ALLOWED_ORIGINS=http://localhost:3000,https://yourdomain.com,capacitor://localhost

# ============================================
# Rate Limiting Configuration
# ============================================

# General API rate limit (requests per 15 minutes)
RATE_LIMIT_MAX=100

# Authentication rate limit (login attempts per 15 minutes)
AUTH_RATE_LIMIT_MAX=5

# Trade execution rate limit (trades per minute)
TRADE_RATE_LIMIT_MAX=30

# ============================================
# MT4/MT5 Configuration
# ============================================

# LHFX Demo Server Details
LHFX_SERVER=LHFXDemo-Server
LHFX_DEMO_ACCOUNT=194302
# DO NOT store real account passwords here!
# LHFX_DEMO_PASSWORD=your_demo_password

# ============================================
# Logging Configuration
# ============================================

# Log level (error | warn | info | debug)
LOG_LEVEL=info

# Enable request logging
ENABLE_REQUEST_LOGGING=true

# Enable security audit logging
ENABLE_AUDIT_LOGGING=true

# ============================================
# Database Configuration (Future Use)
# ============================================

# When implementing persistent storage, configure database connection here
# DB_HOST=localhost
# DB_PORT=5432
# DB_NAME=quantumtrader
# DB_USER=quantumtrader_user
# DB_PASSWORD=secure_database_password

# ============================================
# Redis Configuration (Optional - for distributed rate limiting)
# ============================================

# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=
# REDIS_DB=0

# ============================================
# TLS/SSL Configuration (Production)
# ============================================

# Enable HTTPS
ENABLE_HTTPS=false

# SSL Certificate paths (when ENABLE_HTTPS=true)
# SSL_KEY_PATH=/path/to/private-key.pem
# SSL_CERT_PATH=/path/to/certificate.pem
# SSL_CA_PATH=/path/to/ca-bundle.pem

# ============================================
# Additional Security Features
# ============================================

# Enable Helmet security headers
ENABLE_HELMET=true

# Enable CORS
ENABLE_CORS=true

# Trust proxy (set to true if behind nginx/load balancer)
TRUST_PROXY=false

# Maximum request body size (to prevent payload attacks)
MAX_REQUEST_SIZE=1mb

# ============================================
# Monitoring & Alerting (Future Use)
# ============================================

# Webhook URL for security alerts
# SECURITY_ALERT_WEBHOOK=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# Email configuration for alerts
# ALERT_EMAIL_FROM=alerts@quantumtrader.com
# ALERT_EMAIL_TO=admin@quantumtrader.com
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password

# ============================================
# Feature Flags
# ============================================

# Enable authentication (set false for initial testing only!)
REQUIRE_AUTHENTICATION=true

# Enable WebSocket authentication
REQUIRE_WS_AUTHENTICATION=true

# Enable trade execution validation
ENABLE_TRADE_VALIDATION=true

# Maximum concurrent WebSocket connections per IP
MAX_WS_CONNECTIONS_PER_IP=5
